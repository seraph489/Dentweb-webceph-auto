# 정보 구조 (IA) - v3.0

## 1. 설계 원칙
-   **Tab-Based Navigation**: 기능별로 탭을 분리하여 직관적인 네비게이션 제공
-   **Dashboard-First**: 프로그램 시작 시 전체 현황을 파악할 수 있는 대시보드를 먼저 표시
-   **Settings Separation**: 설정 정보는 별도 탭에서 관리하여 작업 흐름과 분리
-   **Task-Oriented Flow**: 자동화 탭에서는 순차적 작업 흐름에 집중
-   **Clear Feedback**: 각 단계의 실행 결과를 즉시 피드백으로 제공

## 2. 전체 화면 구조 (탭 기반)

```
┌──────────────────────────────────────────────────────────────────┐
│ 🦷 Web Ceph Auto v1.0                                      [_][□][X]│
├──────────────────────────────────────────────────────────────────┤
│ [📊 대시보드] [🚀 덴트웹-웹셉 자동화] [👤 환자관리] [⚙️ 설정]      │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│                        활성 탭 콘텐츠 영역                         │
│                                                                  │
└──────────────────────────────────────────────────────────────────┘
```

## 3. 탭별 상세 구조

### 3.1 📊 대시보드 탭 (기본 화면)

```
┌──────────────────────────────────────────────────────────────────┐
│ 📊 대시보드                                                       │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│ 📈 오늘의 통계                                                    │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐  │
│ │  처리 완료   │ │   대기 중   │ │    실패     │ │   총 처리   │  │
│ │     24      │ │      3      │ │      1      │ │     28      │  │
│ └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘  │
│                                                                  │
│ 🚀 빠른 실행                                                     │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ [ 📋 새 환자 분석 시작 ]  [ ⚙️ 설정 확인 ]  [ 📊 상세 리포트 ] │ │
│ └──────────────────────────────────────────────────────────────┘ │
│                                                                  │
│ 📋 최근 활동 (최근 5건)                                           │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ [14:32] 홍길동 환자 분석 완료 ✅                               │ │
│ │ [14:25] 김철수 환자 OCR 추출 완료                              │ │
│ │ │ [14:20] 이영희 환자 WebCeph 업로드 중...                       │ │
│ │ [14:15] 박민수 환자 PDF 전송 완료 ✅                           │ │
│ │ [14:10] 설정 업데이트: API 키 변경                             │ │
│ └──────────────────────────────────────────────────────────────┘ │
│                                                                  │
│ 🔧 시스템 상태                                                   │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ • WebCeph 연결: 🟢 정상                                      │ │
│ │ • Upstage OCR API: 🟢 정상                                   │ │
│ │ • Make.com Webhook: 🟡 확인 필요                             │ │
│ │ • 로컬 저장 공간: 🟢 여유 (2.1GB)                             │ │
│ └──────────────────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────┘
```

### 3.2 🚀 덴트웹-웹셉 자동화 탭

```
┌──────────────────────────────────────────────────────────────────┐
│ 🚀 덴트웹-웹셉 자동화                                              │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│ 📊 전체 진행률                                                    │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ 전체 진행률: 2/3 단계 완료                              67% │ │
│ │ ████████████████████████████████████████████████████████▒▒▒▒ │ │
│ └──────────────────────────────────────────────────────────────┘ │
│                                                                  │
│ 🔄 자동화 단계                                                   │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ 1. 📋 OCR 실행 및 사진 복사                         [완료] ✅ │ │
│ │    Dentweb 화면에서 환자 정보를 추출하고 사진을 복사합니다      │ │
│ │                                                              │ │
│ │ 2. 🌐 WebCeph 등록 및 업로드                        [완료] ✅ │ │
│ │    WebCeph에 환자를 등록하고 이미지를 업로드하여 분석 시작     │ │
│ │                                                              │ │
│ │ 3. 📤 PDF 전송하기                                 [실행] 🔄  │ │
│ │    분석 완료 후 PDF를 다운로드하고 지정된 위치로 전송         │ │
│ └──────────────────────────────────────────────────────────────┘ │
│                                                                  │
│ 📜 실시간 로그                                                   │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ [14:32:15] ℹ️ 프로그램 시작...                                │ │
│ │ [14:32:18] ✅ OCR 실행 및 사진 복사 완료. 환자: 홍길동         │ │
│ │ [14:32:45] ✅ WebCeph 분석 및 PDF 다운로드 완료                │ │
│ │ [14:32:48] 🔄 PDF 파일 Webhook 전송 중...                     │ │
│ │                                                              │ │
│ │ [💾 로그 저장] [🗑️ 로그 지우기]                               │ │
│ └──────────────────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────┘
```

### 3.3 👤 환자 관리 탭

```
┌──────────────────────────────────────────────────────────────────┐
│ 👤 환자 관리                                                      │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│ 📝 환자 정보 입력                                                 │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ 이름: [________________]  등록번호: [________________]         │ │
│ │ 생년월일: [____-__-__]   성별: (•) 남 ( ) 여                 │ │
│ │ 연락처: [________________]  이메일: [________________]         │ │
│ │                                                              │ │
│ │ [📋 Dentweb에서 추출] [💾 저장] [🗑️ 초기화]                    │ │
│ └──────────────────────────────────────────────────────────────┘ │
│                                                                  │
│ 🖼️ 이미지 업로드                                                 │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ X-ray 이미지:                                                │ │
│ │ ┌─────────────┐ [📁 파일 선택] [🗑️ 제거]                      │ │
│ │ │   미리보기   │                                              │ │
│ │ │             │                                              │ │
│ │ └─────────────┘                                              │ │
│ │                                                              │ │
│ │ 얼굴 사진:                                                    │ │
│ │ ┌─────────────┐ [📁 파일 선택] [🗑️ 제거]                      │ │
│ │ │   미리보기   │                                              │ │
│ │ │             │                                              │ │
│ │ └─────────────┘                                              │ │
│ └──────────────────────────────────────────────────────────────┘ │
│                                                                  │
│ 🚀 실행                                                          │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ [🔄 자동화 시작] [📊 자동화 탭으로 이동]                       │ │
│ └──────────────────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────┘
```

### 3.4 ⚙️ 설정 탭

```
┌──────────────────────────────────────────────────────────────────┐
│ ⚙️ 설정                                                           │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│ 🌐 WebCeph 계정 설정                                             │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ WebCeph ID:       [__________________]                        │ │
│ │ WebCeph Password: [__________________] (암호화 저장)           │ │
│ │ WebCeph URL:      [https://www.webceph.com_______________]    │ │
│ │                                                              │ │
│ │ [🔍 연결 테스트] [💾 저장]                                     │ │
│ └──────────────────────────────────────────────────────────────┘ │
│                                                                  │
│ 🤖 OCR API 설정                                                  │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ Upstage API Key:  [__________________] (암호화 저장)           │ │
│ │ API URL:          [https://api.upstage.ai/v1/document-ai/ocr] │ │
│ │ 타임아웃:         [30] 초                                     │ │
│ │                                                              │ │
│ │ [🔍 API 테스트] [💾 저장]                                      │ │
│ └──────────────────────────────────────────────────────────────┘ │
│                                                                  │
│ 📤 Webhook 설정                                                  │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ Make.com Webhook: [__________________]                        │ │
│ │ 재시도 횟수:      [3] 회                                      │ │
│ │ 재시도 간격:      [5] 초                                      │ │
│ │                                                              │ │
│ │ [🔍 Webhook 테스트] [💾 저장]                                  │ │
│ └──────────────────────────────────────────────────────────────┘ │
│                                                                  │
│ 📁 폴더 경로 설정                                                 │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ 이미지 저장 폴더: [C:\Users\...\Images] [📁 찾아보기]         │ │
│ │ PDF 저장 폴더:    [C:\Users\...\Results] [📁 찾아보기]        │ │
│ │ 백업 폴더:        [C:\Users\...\Backup] [📁 찾아보기]         │ │
│ │                                                              │ │
│ │ [📁 기본값으로 복원] [💾 저장]                                  │ │
│ └──────────────────────────────────────────────────────────────┘ │
│                                                                  │
│ 🔧 고급 설정                                                     │
│ ┌──────────────────────────────────────────────────────────────┐ │
│ │ 스크린샷 영역: X:[400] Y:[400] W:[400] H:[400]                │ │
│ │ 자동 저장:      (•) 켜기 ( ) 끄기                             │ │
│ │ 로그 레벨:      [INFO ▼]                                      │ │
│ │                                                              │ │
│ │ [🔄 기본값 복원] [💾 모든 설정 저장]                           │ │
│ └──────────────────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────┘
```

## 4. 컴포넌트 정의

### 4.1 공통 컴포넌트
- **TabWidget**: 메인 네비게이션 탭
- **StatusBar**: 하단 상태 표시줄 (연결 상태, 시간 등)
- **HeaderBar**: 상단 제목 및 컨트롤

### 4.2 대시보드 컴포넌트
- **StatsCard**: 통계 정보 카드 (4개)
- **QuickActionPanel**: 빠른 실행 버튼 패널
- **RecentActivityList**: 최근 활동 목록
- **SystemStatusPanel**: 시스템 상태 표시

### 4.3 자동화 탭 컴포넌트
- **ProgressBar**: 전체 진행률 표시
- **StepCard**: 각 자동화 단계 카드
- **LogViewer**: 실시간 로그 표시 영역

### 4.4 환자 관리 탭 컴포넌트
- **PatientForm**: 환자 정보 입력 폼
- **ImageUploader**: 이미지 업로드 컴포넌트
- **ActionPanel**: 실행 버튼 패널

### 4.5 설정 탭 컴포넌트
- **SettingsGroup**: 설정 그룹 (WebCeph, OCR, Webhook, 폴더)
- **InputField**: 설정값 입력 필드
- **TestButton**: 연결/API 테스트 버튼
- **FolderPicker**: 폴더 선택 컴포넌트

## 5. 데이터 흐름

### 5.1 시작 시퀀스
1. **앱 실행** → **대시보드 표시** (로그인 없이 바로 시작)
2. **설정 검증** → **시스템 상태 확인** → **통계 로드**
3. **첫 실행 시** → **설정 필요 알림** → **설정 탭 안내**

### 5.2 자동화 실행 시퀀스
1. **환자 관리 탭**에서 정보 입력
2. **자동화 탭**으로 이동
3. **단계별 실행** (OCR → WebCeph → PDF)
4. **대시보드**에서 결과 확인

### 5.3 설정 관리 시퀀스
1. **설정 탭**에서 정보 입력
2. **테스트 버튼**으로 연결 확인
3. **암호화 저장**
4. **다른 탭에서 설정값 사용**

## 6. 사용자 워크플로우

### 6.1 첫 사용자 (초기 설정)
```
프로그램 시작 → 대시보드 표시 → 설정 필요 알림 
→ 설정 탭 → 계정/API 정보 입력 → 테스트 → 저장 
→ 대시보드 복귀 → 환자 관리 → 자동화 실행
```

### 6.2 기존 사용자 (일상적 사용)
```
프로그램 시작 → 대시보드 (오늘 통계 확인) 
→ 환자 관리 → 정보 입력 → 자동화 탭 → 실행 
→ 대시보드에서 결과 확인
```

### 6.3 설정 변경 시
```
대시보드 → 설정 탭 → 정보 수정 → 테스트 → 저장 
→ 대시보드 (변경사항 반영 확인)
```

## 7. 화면 전환 규칙

1. **기본 화면**: 프로그램 시작 시 대시보드 탭 활성화 (로그인 없이)
2. **설정 미완료**: 대시보드에서 설정 필요 알림 표시
3. **자동 전환**: 환자 관리에서 "자동화 시작" 클릭 시 자동화 탭으로 이동
4. **상태 유지**: 탭 전환 시 입력된 데이터 유지
5. **저장 알림**: 설정 변경 시 저장 확인 메시지

## 8. 로그인 시스템 제거

IA v3.0에서는 **로그인 프로세스를 제거**하고 **대시보드 우선 접근**으로 변경:

- ❌ 로그인 화면 제거
- ✅ 프로그램 시작 → 즉시 대시보드 표시
- ✅ 설정이 필요한 경우 대시보드에서 알림
- ✅ 더 빠르고 직관적인 사용자 경험

이 구조를 통해 사용자는 체계적이고 직관적인 워크플로우를 경험할 수 있으며, 설정과 작업이 명확히 분리되어 관리됩니다.
